---
title: "[Redis] Pipeline"
excerpt: "Redisì˜ Pipelineì„ ì´ìš©í•´ ë„¤íŠ¸ì›Œí¬ ë³‘ëª© ê°œì„ í•˜ê¸°"

categories:
  -  Redis
tags:
  - [BackEnd, DB, Redis]

toc: true
toc_sticky: true
 
date: 2023-01-10
last_modified_at: 2023-01-10
---

# ğŸš€ Pipeline
---
## ğŸ“ RedisëŠ” ì–´ë–»ê²Œ request/response í• ê¹Œ?
1. í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì— ì¿¼ë¦¬ë¥¼ ë³´ë‚´ê³ , ì„œë²„ëŠ” ì¼ë°˜ì ìœ¼ë¡œ Blocking ë°©ì‹ìœ¼ë¡œ ì†Œì¼“ì„ í†µí•´ ì½ëŠ”ë‹¤.
2. ì„œë²„ê°€ ëª…ë ¹ì„ ì²˜ë¦¬í•˜ê³  ì‘ë‹µì„ ë‹¤ì‹œ í´ë¼ì´ì–¸íŠ¸ë¡œ ë³´ë‚¸ë‹¤.

## ğŸ“ Redisì˜ Pipeline
ê¸°ë³¸ì ìœ¼ë¡œ RedisëŠ” Single Threadì™€ Event Loop ê¸°ë°˜ìœ¼ë¡œí•˜ëŠ” ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ê³ ì„±ëŠ¥ì´ë‹¤.
í•˜ì§€ë§Œ ì§§ì€ ì£¼ê¸°ë¡œ I/O ì‘ì—…ì´ ë°œìƒí•œë‹¤ë©´, ë³‘ëª© í˜„ìƒìœ¼ë¡œ ì¸í•œ ë¶€í•˜ê°€ ë°œìƒí•œë‹¤.

> ì˜ˆë¥¼ë“¤ì–´, í´ë¼ì´ì–¸íŠ¸ê°€ 10,000ê°œì˜ Set/Get ëª…ë ¹ì–´ë¥¼ ì„œë²„ì— ìš”ì²­í•œë‹¤ê³  í–ˆì„ ë•Œ TCP í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ëŠ” RedisëŠ” 3-wqy handshakeì™€ ê°™ì€ ì»¤ë„¥íŠ¸ ì‘ì—…ì„ 10,000ë²ˆì„ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤.
  ê°ê°ì˜ RequestëŠ” ì´ì „ì˜ Responseê°€ ì²˜ë¦¬ëœ í›„ í•´ë‹¹ Requestë¥¼ ìš”ì²­í•œë‹¤.
  ë”°ë¼ì„œ, **ì „ì²´ ìš”ì²­ì— ëŒ€í•œ RTT(Round Trip Time)ê°€ ì¦ê°€í•˜ê²Œ ë˜ê³  ì´ëŠ” ë§¤ìš° ë¹„íš¨ìœ¨ì ì´ë‹¤.**

ì´ëŸ¬í•œ ë¹„íš¨ìœ¨ì ì¸ ì„±ëŠ¥ì„ ê°œì„ í•˜ê¸° ìœ„í•´ Redisì—ì„œëŠ” Pipelineì„ ì§€ì›í•œë‹¤.

![image](https://user-images.githubusercontent.com/85219306/211572936-3a6a4e75-d642-4184-8e70-a3ab8e0a5f4e.png)

> ì¦‰, Redisì˜ Pipelineì€
  - í´ë¼ì´ì–¸íŠ¸ê°€ ë³´ë‚´ë ¤ëŠ” ìš”ì²­ì„ ëª¨ë‘ ëª¨ì•„ì„œ Pipelineì„ ë§Œë“¤ê³ , í•œë²ˆì˜ ìš”ì²­ìœ¼ë¡œ Redis ì„œë²„ì— ë³´ë‚´ê²Œ ëœë‹¤.
  - ê°ê°ì˜ Responseë¥¼ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  í•œë²ˆì— ì—¬ëŸ¬ê°œì˜ ëª…ë ¹ì–´ë¥¼ ì „ì†¡í•  ìˆ˜ ìˆê²Œ ë˜ë©° ë¹„ë™ê¸°ì ìœ¼ë¡œ Responseë¥¼ ë°›ì•„ì˜¨ë‹¤.

<br>
# ğŸš€ Pipeline vs. Transaction
---
> Pipelineì€ Atomic í•˜ì§€ ì•Šì§€ë§Œ, Transactionì€ Atomicí•˜ë‹¤.

- Pipeline  
  pipeline1ì˜ ì²«ë²ˆì§¸ ëª…ë ¹ì„ ì‹¤í–‰í•˜ê³  pipelineì˜ ë‘ë²ˆì§¸ ëª…ë ¹ì„ ì‹¤í–‰í•˜ëŠ”ê²ƒì²˜ëŸ¼ ì„œë¡œ ë‹¤ë¥¸ Pipelineë“¤ì´ ë²ˆê°ˆì•„ê°€ë©´ì„œ ì‹¤í–‰ëœë‹¤.

- Transaction  
  í•˜ë‚˜ì˜ Transactionì´ ëª¨ë‘ ëë‚˜ë©´ ë‹¤ë¥¸ Transactionì´ ì‹¤í–‰ëœë‹¤.

![image](https://user-images.githubusercontent.com/85219306/211573108-de506809-435c-4e91-bcad-c0b7bee6bb4e.png)

> [Redis Bootcamp for Beginners: Get Hands On with Redis.](https://www.udemy.com/course/redis-bootcamp-for-beginners/)  