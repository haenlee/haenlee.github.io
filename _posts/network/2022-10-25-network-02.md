---
title:  "[λ„¤νΈμ›ν¬] HTTPS"
excerpt: "" 

categories:
  - Network
tags:
  - [Network]

toc: true
toc_sticky: true
 
date: 2022-10-25
last_modified_at: 2022-10-25
---

# π€ HTTPS
---
π’΅ **HTTPSλ”?**
{: .notice--danger}

- HTTPSλ” μΈν„°λ„· μƒμ—μ„ μ •λ³΄λ¥Ό μ•”νΈν™”ν•λ” SSL(Secure SocketΒ Layer)ν”„λ΅ν† μ½μ„ μ΄μ©ν•μ—¬ μ›ΉλΈλΌμ°μ €(ν΄λΌμ΄μ–ΈνΈ)μ™€ μ„λ²„κ°€ λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›λ” ν†µμ‹  κ·μ•½

## π“ λ“±μ¥ λ°°κ²½
- HTTPλ” ν…μ¤νΈ κµν™μ΄λ‹¤. HTML νμ΄μ§€λ„ ν…μ¤νΈλ‹¤.
- λ°”μ΄λ„λ¦¬ λ°μ΄ν„°λ΅ λμ–΄μλ” κ²ƒλ„ μ•„λ‹κ³  `λ‹¨μ ν…μ¤νΈλ¥Ό μ£Όκ³  λ°›κΈ° λ•λ¬Έμ—` λ„κµ°κ°€ λ„¤νΈμ›ν¬μ—μ„ μ‹ νΈλ¥Ό κ°€λ΅μ±„μ–΄ λ³Έλ‹¤λ©΄ λ‚΄μ©μ΄ λ…Έμ¶λλ‹¤.

## π“ SSL/TLS
- SSL: λ³΄μ• μ†μΌ“ κ³„μΈµ(SECURE SOCKETS LAYER)
    - SSLμ€ μ›Ήμ‚¬μ΄νΈμ™€ λΈλΌμ°μ € μ‚¬μ΄(λλ” λ‘ μ„λ²„ μ‚¬μ΄)μ— μ „μ†΅λλ” λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•μ—¬ μΈν„°λ„· μ—°κ²°μ„ λ³΄νΈν•κΈ° μ„ν• ν‘μ¤€ κΈ°μ μ΄λ‹¤.
    - μ΄ κΈ°μ μ€ ν•΄μ»¤κ°€ κ°μΈ λ°μ΄ν„°λ‚ κΈμµ λ°μ΄ν„° λ“±μ μ „μ†΅λλ” μ •λ³΄λ¥Ό λ³΄κ±°λ‚ ν›”μΉλ” κ²ƒμ„ λ°©μ§€ν•λ‹¤.
- TLS: μ „μ†΅ κ³„μΈµ λ³΄μ•(Transport Layer Security)
    - TLSμ€ SSLμ ν–¥μƒλ, λ”μ± μ•μ „ν• λ²„μ „μ΄λ‹¤.
    - SSLμ΄ λ”μ± μΌλ°μ μΈ μ©μ–΄μ΄κΈ° λ•λ¬Έμ— TLSλ¥Ό λ§ν• λ•μ—λ„ SSLλ΅ μ–ΈκΈ‰ν•λ‹¤.
- μ•”νΈν™” λ°©μ‹
    - λ€μΉ­ν‚¤ λ°©μ‹
    - λΉ„λ€μΉ­ν‚¤ λ°©μ‹ = κ³µκ°ν‚¤ μ•”νΈν™” λ°©μ‹  
      λΉ„λ€μΉ­ν‚¤ μ•”νΈν™” λ°©μ‹μ μλ΅ RSA κ³µκ°ν‚¤ μ•”νΈν™” λ°©μ‹μ΄ μλ‹¤.

<br>
# π€ SSL(TLS) Handshake
---
- μ†΅μ‹ μμ™€ μμ‹ μκ°€ μ•”νΈν™”λ λ°μ΄ν„°λ¥Ό κµν™ν•κΈ° μ„ν• μΌλ ¨μ ν‘μƒ κ³Όμ •
- ν‘μƒ κ³Όμ •μ—λ” SSL μΈμ¦μ„ μ „λ‹¬, λ€μΉ­ν‚¤(λΉ„λ°€ν‚¤) μ „λ‹¬, μ•”νΈν™” μ•κ³ λ¦¬μ¦ κ²°μ •, SSL/TLS ν”„λ΅ν† μ½ κ²°μ • λ“±μ΄ ν¬ν•¨λ¨

![Untitled](https://user-images.githubusercontent.com/85219306/201028154-c7e7492e-61db-4a4a-94f7-90a06b62c951.png)

1. Client Hello
    - ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ—°κ²°μ„ μ‹λ„ν•λ©° μ „μ†΅ν•λ” ν¨ν‚·μ΄λ‹¤.
    - `μμ‹ μ΄ μ‚¬μ© κ°€λ¥ν• Cipher Suite λ©λ΅`, Session ID, SSL ν”„λ΅ν† μ½ λ²„μ „, Random Byte λ“±μ„ μ „λ‹¬ν•λ‹¤.
    - Cipher Suite  
      SSL ν”„λ΅ν† μ½ λ²„μ „, μΈμ¦μ„ κ²€μ •, λ°μ΄ν„° μ•”νΈν™” ν”„λ΅ν† μ½, Hash λ°©μ‹ λ“±μ μ •λ³΄λ¥Ό λ‹΄κ³  μλ” μ΅΄μ¬λ΅, μ„ νƒλ Cipher Suiteμ μ•κ³ λ¦¬μ¦μ— λ”°λΌ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•κ² λλ‹¤.
        
2. Server Hello
    - μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄λ‚΄ μ¨ ClientHello ν¨ν‚·μ„ λ°›μ•„ `Cipher Suite(μ•”νΈν™” λ°©λ²•) μ¤‘ ν•λ‚λ¥Ό μ„ νƒν• λ‹¤μ ν΄λΌμ΄μ–ΈνΈμ—κ² μ΄λ¥Ό μ•λ¦°λ‹¤.`
    - λν•, μμ‹ μ SSL ν”„λ΅ν† μ½ λ²„μ „ λ“±λ„ κ°™μ΄ λ³΄λ‚Έλ‹¤.

3. Certificate
    - `Serverκ°€ μμ‹ μ SSL μΈμ¦μ„λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² μ „λ‹¬`ν•λ‹¤.   
      μΈμ¦μ„ λ‚΄λ¶€μ—λ” Serverκ°€ λ°ν–‰ν• κ³µκ° ν‚¤ (κ°μΈ ν‚¤λ” λ”°λ΅ μ„λ²„κ°€ μ†μ )κ°€ λ“¤μ–΄μλ‹¤.
    - ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„κ°€ λ³΄λ‚Έ CA (Certificate Authority, μΈμ¦ κΈ°κ΄€)μ κ°μΈ ν‚¤λ΅ μ•”νΈν™”λ μ΄ SSL μΈμ¦μ„λ¥Ό μ΄λ―Έ λ¨λ‘μ—κ² κ³µκ°λ CAμ κ³µκ° ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ λ³µνΈν™”ν•λ‹¤.
    - λ³µνΈν™”μ— μ„±κ³µν•λ©΄ μ΄ μΈμ¦μ„λ” CAκ°€ μ„λ…ν• κ²ƒμ΄ λ§μΌλ‹ μ§„μ§μ„μ„ κ²€μ¦ν•  μ μλ‹¤.
    
4. Server Key Exchange / ServerHello Done
    - μ„λ²„μ κ³µκ° ν‚¤κ°€ SSL μΈμ¦μ„ λ‚΄λ¶€μ— μ—†λ” κ²½μ°, μ„λ²„κ°€ μ§μ ‘ μ „λ‹¬ν•λ‹¤λ” λ»μ΄λ‹¤.   
      κ³µκ° ν‚¤κ°€ SSL μΈμ¦μ„ λ‚΄λ¶€μ— μμ„ κ²½μ° Server Key Exchangeλ” μƒλµλλ‹¤.
    - μΈμ¦μ„ λ‚΄λ¶€μ— μ„λ²„μ κ³µκ° ν‚¤κ°€ μλ‹¤λ©΄, ν΄λΌμ΄μ–ΈνΈκ°€ CAμ κ³µκ° ν‚¤λ¥Ό ν†µν•΄ μΈμ¦μ„λ¥Ό λ³µνΈν™” ν• ν›„ μ„λ²„μ κ³µκ° ν‚¤λ¥Ό ν™•λ³΄ν•  μ μλ‹¤.
    - κ·Έλ¦¬κ³  μ„λ²„κ°€ ν–‰λ™μ„ λ§μ³¤μμ„ μ „λ‹¬ν•λ‹¤.
    
5. Client Key Exchange
    - ν΄λΌμ΄μ–ΈνΈλ” λ°μ΄ν„° μ•”νΈν™”μ— μ‚¬μ©ν•  λ€μΉ­ ν‚¤λ¥Ό μƒμ„±ν• ν›„ SSL μΈμ¦μ„ λ‚΄λ¶€μ—μ„ μ¶”μ¶ν• μ„λ²„μ κ³µκ° ν‚¤λ¥Ό μ΄μ©ν•΄ μ•”νΈν™”ν• ν›„ μ„λ²„μ—κ² μ „λ‹¬ν•λ‹¤.   
      μ—¬κΈ°μ„ μ „λ‹¬λ λ€μΉ­ ν‚¤κ°€ SSL Handshakeμ λ©μ μ΄μ κ°€μ¥ μ¤‘μ”ν• μλ‹¨μΈ λ°μ΄ν„°λ¥Ό μ‹¤μ λ΅ μ•”νΈν™”ν•  λ€μΉ­ ν‚¤λ‹¤.
    - μ΄μ  ν‚¤λ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ‹¤μ λ΅ κµν™ν•κ³ μ ν•λ” λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•λ‹¤.
    
6. ChangeCipherSpec / Finished
    - ChangeCipherSpec ν¨ν‚·μ€ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ λ¨λ‘κ°€ μ„λ΅μ—κ² λ³΄λ‚΄λ” ν¨ν‚·μΌλ΅, κµν™ν•  μ •λ³΄λ¥Ό λ¨λ‘ κµν™ν• λ’¤ ν†µμ‹ ν•  μ¤€λΉ„κ°€ λ‹¤ λμ—μμ„ μ•λ¦¬λ” ν¨ν‚·μ΄λ‹¤.
    - κ·Έλ¦¬κ³  Finished ν¨ν‚·μ„ λ³΄λ‚΄μ–΄ SSL Handshakeλ¥Ό μΆ…λ£ν•κ² λλ‹¤.

> [SSL, TLS, HTTPSλ” λ¬΄μ—‡μΈκ°€μ”?](https://www.digicert.com/kr/what-is-ssl-tls-and-https)

> [μ •λ³΄ν†µμ‹  - SSL/TLS, λ€μΉ­ν‚¤, λΉ„λ€μΉ­ν‚¤ (RSA κ³µκ°ν‚¤) λ°©μ‹μ— λ€ν•΄](https://m.blog.naver.com/popqser2/221434584494)