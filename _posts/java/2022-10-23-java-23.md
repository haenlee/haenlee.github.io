---
title:  "[JAVA] HashMap"
excerpt: "" 

categories:
  - Java
tags:
  - [Java]

toc: true
toc_sticky: true
 
date: 2022-10-23
last_modified_at: 2022-10-23
---

# ğŸš€ HashMap
---
Map ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ ì»¬ë ‰ì…˜ìœ¼ë¡œ, keyì™€ valueë¡œ êµ¬ì„±ëœ ê°ì²´ë¥¼ ì €ì¥í•˜ëŠ” êµ¬ì¡°ë¥¼ ê°€ì§„ë‹¤.  
(HashTableê³¼ ë‹¤ë¥´ê²Œ keyì™€ valueì— nullì„ í—ˆìš©í•¨)

- HashMapì˜ ì‚½ì…, ê²€ìƒ‰ì˜ ì‹œê°„ ë³µì¡ë„: O(1)
    key > hash function > buckets  
    ê°ê°ì˜ key ê°’ì€ hash functionì— ì˜í•´ ê³ ìœ í•œ indexë¥¼ ê°€ì§€ê²Œ ë˜ì–´ ë°”ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.
    

## ğŸ“ Hash ì¶©ëŒ

ê°ê°ì˜ keyê°’ì€ ê³ ìœ í•œ index, ì¦‰ hashë¥¼ ê°€ì§€ê²Œ ë˜ëŠ”ë° hashê°€ ë™ì¼í•˜ë©´ ì¶©ëŒì´ ì¼ì–´ë‚œë‹¤.  
ì¶©ëŒì´ ì¼ì–´ë‚  ê²½ìš° ìµœì•…ì˜ ê²½ìš°ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” O(M) ë²„í‚·ì˜ ì‚¬ì´ì¦ˆë§Œí¼ ê±¸ë¦¬ê²Œ ëœë‹¤.

- Separate Chaining
    - ì¶”ê°€ì ì¸ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•´ ë²„í‚·ì— ë™ì¼í•œ ê°’ì´ ìˆìœ¼ë©´ LinkedListë¡œ ê°’ì„ ì €ì¥í•œë‹¤.
    - Java8 ì´ìƒë¶€í„° ë™ì¼í•œ keyì— ëŒ€í•´ ì¶©ëŒì´ ìì£¼ ë°œìƒí•  ê²½ìš°(8ê°œ) List ëŒ€ì‹ ì— Treeë¥¼ ì‚¬ìš©í•œë‹¤.  
      (Tree ì‚¬ìš©ì‹œ ê²€ìƒ‰ ì‹œê°„ ë³µì¡ë„: O(logN))
    
- Open Addressing  
    ë²„í‚·ì— ë™ì¼í•œ ê°’ì´ ìˆìœ¼ë©´ ì¶©ëŒì´ ë°œìƒí•œ hashì—ì„œë¶€í„° ì´ë™í•˜ë©´ì„œ ë¹ˆ ê³µê°„ì— ê°’ì„ ì €ì¥í•œë‹¤.
    - Linear Probing  
      í˜„ì¬ì˜ ë²„í‚· indexë¡œë¶€í„° ê³ ì •í­ ë§Œí¼ì”© ì´ë™í•˜ì—¬ ì°¨ë¡€ëŒ€ë¡œ ê²€ìƒ‰í•´ ë¹„ì–´ ìˆëŠ” ë²„í‚·ì— ë°ì´í„°ë¥¼ ì €ì¥í•œë‹¤.
    - Quadratic Probing  
      hashì˜ ì €ì¥ìˆœì„œ í­ì„ ì œê³±ìœ¼ë¡œ ì €ì¥í•˜ëŠ” ë°©ì‹ì´ë‹¤.  
      ì˜ˆë¥¼ ë“¤ì–´ ì²˜ìŒ ì¶©ëŒì´ ë°œìƒí•œ ê²½ìš°ì—ëŠ” 1ë§Œí¼ ì´ë™í•˜ê³  ê·¸ ë‹¤ìŒ ê³„ì† ì¶©ëŒì´ ë°œìƒí•˜ë©´ 2^2, 3^2 ì¹¸ì”© ì˜®ê¸°ëŠ” ë°©ì‹ì´ë‹¤.
    - Double Hashing Probing  
      hashëœ ê°’ì„ í•œë²ˆ ë” hashingí•˜ì—¬ hashì˜ ê·œì¹™ì„±ì„ ì—†ì• ë²„ë¦¬ëŠ” ë°©ì‹ì´ë‹¤.  
      í•œë²ˆ ë” hashingí•˜ì—¬ ìƒˆë¡œìš´ ì£¼ì†Œë¥¼ í• ë‹¹í•˜ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ë°©ë²•ë“¤ë³´ë‹¤ ë§ì€ ì—°ì‚°ì„ í•˜ê²Œ ëœë‹¤.

- Separate Chainingê³¼ Open Addressing ë¹„êµ
    - Open Addressingì€ ì—°ì†ëœ ê³µê°„ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ë•Œë¬¸ì— ë°ì´í„° ê°œìˆ˜ê°€ ì ìœ¼ë©´ ìºì‹œì ì¤‘ë¥ (cache hit ratio)ì´ ë†’ì•„ Separate Chainingë³´ë‹¤ ì„±ëŠ¥ì´ ì¢‹ë‹¤.  
      (ë°ì´í„°ê°€ ì—°ì†ì ìœ¼ë¡œ ì €ì¥ë˜ì–´ ìˆì„ í™•ë¥ ì´ ë†’ê¸° ë•Œë¬¸)
    - í•˜ì§€ë§Œ ë°°ì—´ì˜ í¬ê¸°ê°€ ì»¤ì§ˆìˆ˜ë¡ hit ratioë„ ë‚®ì•„ì§€ê³ , ì¼ì • ê°œìˆ˜ ì´ìƒìœ¼ë¡œ ë°ì´í„°ê°€ ë§ì•„ì§€ë©´ ì¼ë°˜ì ìœ¼ë¡œ Open Addressingì€ Separate Chainingë³´ë‹¤ ëŠë¦¬ë‹¤.   
      (ë²„í‚·ì„ ì±„ìš´ ë°€ë„ê°€ ë†’ì•„ì§ˆìˆ˜ë¡ Worst Caseë°œìƒ ë¹ˆë„ê°€ ë†’ì•„ì§€ê¸° ë•Œë¬¸)
    - Separate Chainingë¥¼ ì‚¬ìš©í•˜ë©´ Worst Caseë°œìƒ ë¹ˆë„ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë„ë¡ ì„¤ê³„ê°€ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ë°ì´í„°ê°€ ë§ì•„ì§€ë©´ Separate Chainingì´ ë” ì•ˆì •ì ì´ë‹¤. (ex. **ë³´ì¡° í•´ì‹œÂ í•¨ìˆ˜**)
    - Open Addressingë°©ì‹ì€ Linearêµ¬ì¡°ìƒ ë°ì´í„°ë¥¼ ì‚­ì œí• ë•Œ íš¨ìœ¨ì ì´ê¸° ì–´ë µê¸° ë•Œë¬¸ì— Javaì˜ HashMapì—ì„œëŠ”Â **Separate Chaining**ë°©ì‹ì„ ì±„íƒí•˜ì—¬ ì‚¬ìš©ì¤‘ì´ë‹¤.  
      (remove()ëŠ” ë§¤ìš° ë¹ˆë²ˆí•˜ê²Œ í˜¸ì¶œë  ìˆ˜ ìˆê¸° ë•Œë¬¸)  

        ë³´ì¡° í•´ì‹œ í•¨ìˆ˜(supplement hash function)
        'key'ì˜ í•´ì‹œ ê°’ì„ ë³€í˜•í•˜ì—¬, í•´ì‹œ ì¶©ëŒ ê°€ëŠ¥ì„±ì„ ì¤„ì´ëŠ” ê²ƒ
        {: .notice--primary}

## ğŸ“ ConcurrentHashMap
HashMapì€ thread-unsafe í•˜ë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤. ë©€í‹° ì“°ë ˆë“œ í™˜ê²½ì—ì„œ ì•ˆì •ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ HashMapì˜ ëŒ€ì•ˆì´ë‹¤.
- readì‘ì—…ì—ëŠ” ì—¬ëŸ¬ ì“°ë ˆë“œê°€ ë™ì‹œì— ì½ì„ ìˆ˜ ìˆì§€ë§Œ, write ì‘ì—…ì—ëŠ” íŠ¹ì • ì„¸ê·¸ë¨¼íŠ¸ or ë²„í‚·ì— ëŒ€í•œ lockì„ ì‚¬ìš©í•œë‹¤.
- ë²„í‚· ë‹¨ìœ„ë¡œ lockì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ê°™ì€ ë²„í‚·ë§Œ ì•„ë‹ˆë¼ë©´ lockì„ ê¸°ë‹¤ë¦´ í•„ìš”ê°€ ì—†ë‹¤.
- ë™ì‹œì— ì—¬ëŸ¬ ì“°ë ˆë“œì—ì„œ ConcurrentHashMap ê°ì²´ì— ë°ì´í„°ë¥¼ ì‚½ì…, ì°¸ì¡°í•˜ë”ë¼ë„ ê·¸ ë°ì´í„°ê°€ ë‹¤ë¥¸ ì„¸ê·¸ë¨¼íŠ¸ì— ìœ„ì¹˜í•˜ë©´, ì„œë¡œ lockì„ ì–»ê¸° ìœ„í•´ ê²½ìŸí•˜ì§€ ì•ŠëŠ”ë‹¤.

> [[ìë£Œêµ¬ì¡°/JAVA]HashMapì´ë€?](https://velog.io/@jaejun/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0JAVAHashMap%EC%9D%B4%EB%9E%80)

> [[java] ConcurrentHashMap ë™ê¸°í™” ë°©ì‹](https://pplenty.tistory.com/17)

> [[Java] ConcurrentHashMap ì´ë€ ë¬´ì—‡ì¼ê¹Œ?](https://devlog-wjdrbs96.tistory.com/269)