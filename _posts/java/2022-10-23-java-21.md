---
title:  "[JAVA] Stream"
excerpt: "" 

categories:
  - Java
tags:
  - [Java]

toc: true
toc_sticky: true
 
date: 2022-10-23
last_modified_at: 2022-10-23
---

# 🚀 Stream
---
- 모던 자바 인 액션  
  데이터 처리 연산을 지원하도록 소스에서 추출된 연속된 값 요소
- 이것이 자바다  
  컬렉션의 요소를 하나씩 참조해 람다식으로 처리할 수 있는 반복자

데이터 컬렉션 반복을 처리하는 기능 (Java8에서 추가됨)
{: .notice--primary}

## 📝 특징
- Before Stream
  - 값을 꺼내와서 연산하는 How 중심의 코드 (외부 반복)
  - 모든 값을 다 처리하고 넘겨주는 방식

  → 적극적 생성

- After Stream
  - 컬렉션 내부의 객체에 직접 지시를 내리는 What 중심의 코드 (내부 반복)
  - 요청할 때마다 값을 처리하고 넘겨주는 방식 
  
  → 게으른 생성

  ---

  자료구조가 포함하는 모든 값을 메소드에 포함하는 컬렉션과 다르게, 스트림은 요청할 때만 요소를 계산하는 고정된 자료구조를 가진다.

- 쇼트 서킷  
스트림은 (특정 연산자를 사용할 때) 여러개의 조건이 중첩된 상황에서 값이 결정나면 불필요한 연산을 진행하지 않고 조건문을 빠져나와 실행 속도를 높인다.

- 루프 퓨전  
개별적인 요소가 하나씩 단계를 순차적으로 거쳐가는 모습이 반복문이 합쳐진것처럼 보인다.

## 📝 구조
`스트림 생성 → 중간 연산(가공) → 최종 연산(소비)`
1. 스트림 생성: 소스(Collection, Array, File, Infinite, Third-party등)로부터 Stream을 생성할 수 있다.
2. 중간 연산(가공): 소스로부터 얻어낸 것들을 filter, map, peek, sorted, distinct, limit등을 사용해서 가공한다.  
  각 중간 연산은 한 스트림을 다른 스트림으로 변환함  
  statelsess(독립적): filter, map, peek  
  stateful(종속적): sorted, distinct, limit
3. 최종 연산(소비): 결과를 생성하기 위해서 사용한다.  
  다시 사용하려면 새로운 스트림을 만들어야 한다.
    
## 📝 장단점
- 장점
  - 가독성이 좋다.
  - 코드의 변경이 쉽다. (= 유연하다.)
  - 병렬처리가 쉽다. (ParallelStream)

- 단점
  - 컴퓨팅 비용이 크다. (생성하는데 비용이 크다.)
  - 스트림 중간연산이 어떻게 돌아가는지 확실한 인지가 필요하다.